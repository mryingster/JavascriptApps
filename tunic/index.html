<!DOCTYPE html>

x<html>
  <head>
    <title>Tunic Decoder</title>
    <meta charset="utf-8" />
    <link rel="manifest" href="manifest.json" />
    <meta name="viewport" content="width=768px, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="tunic.css" id="style">
    <script src="solution.js"></script>
    <script src="tunic.js"></script>
  </head>

  <body>
    <div id="content">
      <h1>Tunic Decoder</h1>

      <div id="instructions">

       <button class="collapsible">Introduction</button>
       <div class="collapsible_content">
         <a href="images/memo_large.png" style="float:right;"><img src="images/memo_small.png" width="400px"></a>
        <p>This is a decoding assistant for the game <a href="https://en.wikipedia.org/wiki/Tunic_(video_game)">Tunic</a>. The goal of this assistant is to provide a means of cataloging phrases encountered in the game, and to assign meanings to each glyph.</p>

         <p>I am making assumptions about the language based on the memo page seen to the right:
           <ul>
             <li>Glyphs are limited to the set shown on the memo page. Glyphs outside of that set will be red</li>
             <li>The glyphs appear to be separated by "inner" and "outer" lines.</li>
             <li>The inner lines appear to get read before the outer lines</li>
             <li>This language is based on sounds, not English letter substitution</li>
           </ul>
         </p>
       </div>

       <button class="collapsible">How to Use</button>
       <div class="collapsible_content">
	 <p>The page allows the following functions for aiding in decoding the Tunic language.</p>
	 <h3>Entering Phrases</h3>
	 <p>Use the "Add" button to create a new phrase. <span class="note">(You should add a note, as this is how the phrase will be stored in the pull down list for later use)</span>.</p>
	 <p>Use the buttons to add glyphs, spaces, etc. The left and right arrows will move the current selection, as will clicking on any element. To change the glyph, click on the individual line segments to toggle them.</p>
	 <p>Once entered, the phrase can be edited by clicking on the edit icon (hand with a pen).</p>

	 <h3>Assigning Character Meanings</h3>
	 <p>Glyphs that are found in your phrases will be added to the Characters section. Assign sound there as you discover them. These will then be populated throughout the rest of the page.</p>

	 <h3>Assigning Word Meanings</h3>
	 <p>Phrases can then have word meanings assigned. These word meaning will be populated throughout the other phrases.</p>
       </div>

       <button class="collapsible">Helps & Cheats</button>
       <div class="collapsible_content">
         <h2>Helps</h2>
         <button id="reset">Reset Local Data</button>
         <button id="export">Export to JSON</button>
         <p>
           Import JSON data: <input type="file" id="import" accept=".json">
         </p>
         <h2>Cheats</h2>
         <p>Pressing these buttons would not be fun. Don't do it!</p>
         <p>
           <button id="load_manual" href="#">Load Manual Phrases</button>
           <button id="load_known_characters" href="#">Load Known Glyphs</button>
           <button id="load_phonemes" href="#">Load Solved Phonemes</button>
           <button id="load_words" href="#">Load Solved Words</button>
         </p>
       </div>
      </div>

      <div id="word_builder" class="hidden">
        <h2>Phrase Builder</h2>
        <div id="emeralds_container">
          <span id="emeralds"></span>
          <div id="emerald_edit">
            <button class="stacked_button" id="insert_emerald">Add Glyph</button>
            <button class="stacked_button" id="insert_space">Add Space</button>
            <button class="stacked_button" id="insert_input">Add String</button>
            <button class="stacked_button" id="delete">Delete</button>
            <button class="stacked_half_button" id="move_cursor_left"> &lt; </button>
            <button class="stacked_half_button" id="move_cursor_right"> &gt; </button>
          </div>
        </div>
        <div id="controls">
          <input id="comment_input" placeholder="Comment"></input>
          <span id="build_controls" class="hidden">
            <button id="cancel_add_phrase">Cancel</button>
            <button id="reset_emeralds">Reset</button>
            <button id="add_phrase">Submit Phrase</button>
          </span>
          <span id="edit_controls" class="hidden">
            <button id="cancel_update_phrase">Cancel</button>
            <button id="delete_phrase_button">Delete</button>
            <button id="update_phrase_button">Update</button>
          </span>
        </div>
      </div>

      <div class="group" id="encountered_phrases">
        <select id="phrase_select"><option>-</option></select>
        <button id="start_add_phrase">Add</button>
        <h2>Phrases</h2>
        <div id="phrases"></div>
      </div>

      <div class="group" id="unique_characters">
        <h2>Unique Characters Seen</h2>
        <h3>Inner Segments</h3>
        <div id="characters_inner"></div>
        <h3>Outer Segments</h3>
        <div id="characters_outer"></div>
        <h3>Other</h3>
        <div id="characters_other"></div>
      </div>
    </div>
  </body>

  <script>

    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight){
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });
}
  </script>

</html>
