<!DOCTYPE html>

<html>
  <head>
    <title>Tunic Decoder</title>
    <meta charset="utf-8" />
    <link rel="manifest" href="manifest.json" />
    <meta name="viewport" content="width=768px, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="tunic.css" id="style">
    <script src="solution.js"></script>
    <script src="tunic.js"></script>
  </head>

  <body>
    <div id="content">
      <h1>Tunic Decoder</h1>

      <div id="instructions">

       <button class="collapsible">Introduction</button>
       <div class="collapsible_content">
         <a href="images/memo_large.png" style="float:right;"><img src="images/memo_small.png" width="400px"></a>
        <p>This is a decoding assistant for the game <a href="https://en.wikipedia.org/wiki/Tunic_(video_game)">Tunic</a>. The goal of this assistant is to provide a means of cataloging phrases encountered in the game, and to assign meanings to each glyph.</p>

         <p>I am making assumptions about the language based on the memo page seen to the right:
           <ul>
             <li>Glyphs are limited to the set shown on the memo page. Glyphs outside of that set will be red</li>
             <li>The glyphs appear to be separated by "inner" and "outer" lines.</li>
             <li>The inner lines appear to get read before the outer lines</li>
             <li>This language is based on sounds, not English letter substitution</li>
           </ul>
         </p>
       </div>

       <button class="collapsible">How to Use</button>
       <div class="collapsible_content">
         <p>To use this page, build phrases you encounter using the Phrase Builder below. Once you submit a phrase, it will be saved to the phrases, and unique characters will be gathered below. You can assign any meaning you want to each character, and then the phrase translations will automatically be updated. </p>
       </div>

       <button class="collapsible">Helps & Cheats</button>
       <div class="collapsible_content">
         <p></p>
         <ul>
           <li><a id="load_manual" href="#">Click here</a> to load the phrases found in the manual.</li>
           <li><a id="load_known_characters" href="#">Click here</a> to load the known glyphs to assist with entering phrases.</li>
           <li><a id="load_phonemes" href="#"> Click here</a> to load my solution to the character translation. That would be not fun though, so don't do it.</li>
           <li><a id="load_words" href="#"> Click here</a> to load my solution to the word translations. That would be even less fun!</li>
           <li><a id="reset" href="#">Reset</a>. This will delete your local data.</li>
           <li><a id="export" href="#">Export</a> your data as a JSON file.</li>
         </ul>
       </div>
      </div>

      <div id="word_builder" class="hidden">
        <h2>Phrase Builder</h2>
        <div id="emeralds_container">
          <span id="emeralds"></span>
          <div id="emerald_edit">
            <button class="stacked_button" id="insert_emerald">Add Glyph</button>
            <button class="stacked_button" id="insert_space">Add Space</button>
            <button class="stacked_button" id="insert_input">Add String</button>
            <button class="stacked_button" id="delete">Delete</button>
            <button class="stacked_half_button" id="move_cursor_left"> &lt; </button>
            <button class="stacked_half_button" id="move_cursor_right"> &gt; </button>
          </div>
        </div>
        <div id="controls">
          <input id="comment_input" placeholder="Comment"></input>
          <span id="build_controls" class="hidden">
            <button id="cancel_add_phrase">Cancel</button>
            <button id="reset_emeralds">Reset</button>
            <button id="add_phrase">Submit Phrase</button>
          </span>
          <span id="edit_controls" class="hidden">
            <button id="cancel_update_phrase">Cancel</button>
            <button id="delete_phrase_button">Delete</button>
            <button id="update_phrase_button">Update</button>
          </span>
        </div>
      </div>

      <div class="group" id="encountered_phrases">
        <select id="phrase_select"><option>-</option></select>
        <button id="start_add_phrase">Add</button>
        <h2>Phrases</h2>
        <div id="phrases"></div>
      </div>

      <div class="group" id="unique_characters">
        <h2>Unique Characters Seen</h2>
        <h3>Inner Segments</h3>
        <div id="characters_inner"></div>
        <h3>Outer Segments</h3>
        <div id="characters_outer"></div>
        <h3>Other</h3>
        <div id="characters_other"></div>
      </div>
    </div>
  </body>

  <script>

    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.maxHeight){
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        });
}
  </script>

</html>
