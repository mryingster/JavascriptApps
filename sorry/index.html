<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Sorry!</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="height=320" />
    <style type="text/css">
body {
    background-color: #fff;
    width: 100%;
    height: 100%;
    overflow: hidden;
}
#card {
    position: absolute;
    touch-action: manipulation;
    left: -10;
    top: 0;
    width: 100%;
    height: 100%;
}
    </style>
  </head>
    <body>

      <svg id="card" viewBox="0 0 770 1150" version="1.1"
           xmlns="http://www.w3.org/2000/svg"
           xmlns:xlink="http://www.w3.org/1999/xlink"
           xml:space="preserve"
           xmlns:serif="http://www.serif.com/"
           style="left:0">

        <!-- Main card outline -->
        <path d="M722.562,78.672C722.562,59.681 707.144,44.262 688.153,44.262L81.971,44.262C62.98,44.262 47.562,59.681 47.562,78.672L47.562,1059.85C47.562,1078.84 62.98,1094.26 81.971,1094.26L688.153,1094.26C707.144,1094.26 722.562,1078.84 722.562,1059.85L722.562,78.672Z" filter="url(#shadow)" style="fill:white;"/>

        <!-- Grey Background Elements -->
        <g>
          <clipPath id="_clip2">
            <path d="M684.275,113.534C684.275,96.697 670.606,83.028 653.769,83.028L116.355,83.028C99.518,83.028 85.849,96.697 85.849,113.534L85.849,1024.99C85.849,1041.83 99.518,1055.5 116.355,1055.5L653.769,1055.5C670.606,1055.5 684.275,1041.83 684.275,1024.99L684.275,113.534Z"/>
          </clipPath>
          <g clip-path="url(#_clip2)">
            <path d="M202.797,113.356C178.866,89.424 140.007,89.424 116.076,113.356L-119.132,348.564C-143.063,372.495 -143.063,411.354 -119.132,435.285C-95.2,459.217 -56.342,459.217 -32.41,435.285L202.797,200.077C226.729,176.146 226.729,137.287 202.797,113.356Z"/>
            <path d="M884.796,699.785C860.865,675.853 822.006,675.853 798.074,699.785L562.867,934.992C538.935,958.924 538.935,997.783 562.867,1021.71C586.798,1045.65 625.657,1045.65 649.588,1021.71L884.796,786.506C908.727,762.575 908.727,723.716 884.796,699.785Z"/>
            <g>
              <path d="M277.515,404.183C269.114,395.782 255.473,395.782 247.073,404.183L-27.852,679.107C-36.253,687.508 -36.253,701.149 -27.852,709.55C-19.451,717.95 -5.811,717.95 2.59,709.55L277.515,434.625C285.916,426.224 285.916,412.583 277.515,404.183Z" style="fill:rgb(150,150,150);"/>
              <path d="M509.152,254.119C500.751,245.718 487.11,245.718 478.71,254.119L271.799,461.03C263.398,469.43 263.398,483.071 271.799,491.472C280.2,499.872 293.84,499.872 302.241,491.472L509.152,284.561C517.552,276.16 517.552,262.52 509.152,254.119Z" style="fill:rgb(150,150,150);"/>
              <path d="M52.245,792.599C43.844,784.199 30.203,784.199 21.803,792.599L-0.268,814.67C-8.668,823.07 -8.668,836.711 -0.268,845.112C8.133,853.512 21.774,853.512 30.175,845.112L52.245,823.042C60.645,814.641 60.645,801 52.245,792.599Z" style="fill:rgb(150,150,150);"/>
              <path d="M663.378,263.04C654.977,254.639 641.336,254.639 632.936,263.04L453.263,442.713C444.862,451.113 444.862,464.754 453.263,473.155C461.663,481.556 475.304,481.556 483.705,473.155L663.378,293.482C671.779,285.081 671.779,271.44 663.378,263.04Z" style="fill:rgb(150,150,150);"/>
              <path d="M211.567,796.424C203.166,788.023 189.525,788.023 181.125,796.424L39.5,938.049C31.099,946.45 31.099,960.091 39.5,968.491C47.9,976.892 61.541,976.892 69.942,968.491L211.567,826.866C219.967,818.465 219.967,804.825 211.567,796.424Z" style="fill:rgb(150,150,150);"/>
              <path d="M844.366,245.199C835.965,236.798 822.324,236.798 813.923,245.199L538.999,520.123C530.598,528.524 530.598,542.165 538.999,550.566C547.399,558.966 561.04,558.966 569.441,550.566L844.366,275.641C852.766,267.24 852.766,253.599 844.366,245.199Z" style="fill:rgb(150,150,150);"/>
              <path d="M515.452,655.685C507.051,647.285 493.411,647.285 485.01,655.685L337.639,803.056C329.238,811.457 329.238,825.098 337.639,833.499C346.04,841.899 359.68,841.899 368.081,833.499L515.452,686.127C523.853,677.727 523.853,664.086 515.452,655.685Z" style="fill:rgb(150,150,150);"/>
              <path d="M848.528,404.183C840.127,395.782 826.487,395.782 818.086,404.183L543.161,679.107C534.76,687.508 534.76,701.149 543.161,709.55C551.562,717.95 565.203,717.95 573.603,709.55L848.528,434.625C856.929,426.224 856.929,412.583 848.528,404.183Z" style="fill:rgb(150,150,150);"/>
              <path d="M277.515,404.183C269.114,395.782 255.473,395.782 247.073,404.183L-27.852,679.107C-36.253,687.508 -36.253,701.149 -27.852,709.55C-19.451,717.95 -5.811,717.95 2.59,709.55L277.515,434.625C285.916,426.224 285.916,412.583 277.515,404.183Z" style="fill:rgb(150,150,150);"/>
              <path d="M90.414,1162.3C98.815,1170.7 112.456,1170.7 120.857,1162.3L198.524,1084.63C206.924,1076.23 206.924,1062.59 198.524,1054.19C190.123,1045.79 176.482,1045.79 168.081,1054.19L90.414,1131.85C82.014,1140.26 82.014,1153.9 90.414,1162.3Z" style="fill:rgb(150,150,150);"/>
              <path d="M509.152,254.119C500.751,245.718 487.11,245.718 478.71,254.119L271.799,461.03C263.398,469.43 263.398,483.071 271.799,491.472C280.2,499.872 293.84,499.872 302.241,491.472L509.152,284.561C517.552,276.16 517.552,262.52 509.152,254.119Z" style="fill:rgb(150,150,150);"/>
              <path d="M629.301,541.836C637.702,550.237 651.343,550.237 659.743,541.836L866.654,334.926C875.055,326.525 875.055,312.884 866.654,304.484C858.253,296.083 844.612,296.083 836.212,304.484L629.301,511.394C620.9,519.795 620.9,533.436 629.301,541.836Z" style="fill:rgb(150,150,150);"/>
              <path d="M52.245,792.599C43.844,784.199 30.203,784.199 21.803,792.599L-0.268,814.67C-8.668,823.07 -8.668,836.711 -0.268,845.112C8.133,853.512 21.774,853.512 30.175,845.112L52.245,823.042C60.645,814.641 60.645,801 52.245,792.599Z" style="fill:rgb(150,150,150);"/>
              <path d="M114.452,975.112C122.853,983.512 136.494,983.512 144.895,975.112L166.965,953.042C175.365,944.641 175.365,931 166.965,922.599C158.564,914.199 144.923,914.199 136.523,922.599L114.452,944.669C106.052,953.07 106.052,966.711 114.452,975.112Z" style="fill:rgb(150,150,150);"/>
              <path d="M663.378,263.04C654.977,254.639 641.336,254.639 632.936,263.04L453.263,442.713C444.862,451.113 444.862,464.754 453.263,473.155C461.663,481.556 475.304,481.556 483.705,473.155L663.378,293.482C671.779,285.081 671.779,271.44 663.378,263.04Z" style="fill:rgb(150,150,150);"/>
              <path d="M351.067,656.924C359.467,665.325 373.108,665.325 381.509,656.924L651.009,387.424C659.41,379.023 659.41,365.383 651.009,356.982C642.608,348.581 628.967,348.581 620.567,356.982L351.067,626.482C342.666,634.883 342.666,648.523 351.067,656.924Z" style="fill:rgb(150,150,150);"/>
              <path d="M31.052,976.939C22.651,968.538 9.011,968.538 0.61,976.939L-182.92,1160.47C-191.321,1168.87 -191.321,1182.51 -182.92,1190.91C-174.519,1199.31 -160.879,1199.31 -152.478,1190.91L31.052,1007.38C39.453,998.98 39.453,985.339 31.052,976.939Z" style="fill:rgb(150,150,150);"/>
              <path d="M67.095,859.322C75.496,867.723 89.137,867.723 97.537,859.322L239.163,717.697C247.563,709.296 247.563,695.656 239.163,687.255C230.762,678.854 217.121,678.854 208.72,687.255L67.095,828.88C58.695,837.281 58.695,850.921 67.095,859.322Z" style="fill:rgb(150,150,150);"/>
              <path d="M529.198,560.366C520.798,551.965 507.157,551.965 498.756,560.366L426.339,632.783C417.939,641.183 417.939,654.824 426.339,663.225C434.74,671.626 448.381,671.626 456.782,663.225L529.198,590.808C537.599,582.407 537.599,568.767 529.198,560.366Z" style="fill:rgb(150,150,150);"/>
              <path d="M610.772,560.366C602.371,551.965 588.73,551.965 580.33,560.366L530.487,610.208C522.087,618.609 522.087,632.249 530.487,640.65C538.888,649.051 552.529,649.051 560.929,640.65L610.772,590.808C619.172,582.407 619.172,568.767 610.772,560.366Z" style="fill:rgb(150,150,150);"/>
              <path d="M848.528,404.183C840.127,395.782 826.487,395.782 818.086,404.183L543.161,679.107C534.76,687.508 534.76,701.149 543.161,709.55C551.562,717.95 565.203,717.95 573.603,709.55L848.528,434.625C856.929,426.224 856.929,412.583 848.528,404.183Z" style="fill:rgb(150,150,150);"/>
              <path d="M418.658,263.04C427.059,271.44 440.699,271.44 449.1,263.04L595.292,116.848C603.692,108.447 603.692,94.807 595.292,86.406C586.891,78.005 573.25,78.005 564.849,86.406L418.658,232.597C410.257,240.998 410.257,254.639 418.658,263.04Z" style="fill:rgb(150,150,150);"/>
              <path d="M-12.869,857.713C-21.269,849.312 -34.91,849.312 -43.311,857.713L-250.221,1064.62C-258.622,1073.02 -258.622,1086.66 -250.221,1095.07C-241.821,1103.47 -228.18,1103.47 -219.779,1095.07L-12.869,888.155C-4.468,879.754 -4.468,866.114 -12.869,857.713Z" style="fill:rgb(150,150,150);"/>
              <path d="M576.849,267.995C568.448,259.594 554.808,259.594 546.407,267.995L524.337,290.065C515.936,298.466 515.936,312.107 524.337,320.507C532.737,328.908 546.378,328.908 554.779,320.507L576.849,298.437C585.25,290.037 585.25,276.396 576.849,267.995Z" style="fill:rgb(150,150,150);"/>
              <path d="M54.781,871.636C46.381,863.235 32.74,863.235 24.339,871.636L-155.334,1051.31C-163.735,1059.71 -163.735,1073.35 -155.334,1081.75C-146.933,1090.15 -133.293,1090.15 -124.892,1081.75L54.781,902.078C63.182,893.678 63.182,880.037 54.781,871.636Z" style="fill:rgb(150,150,150);"/>
              <path d="M422.339,667.225C413.939,658.824 400.298,658.824 391.897,667.225L179.566,879.556C171.165,887.957 171.165,901.598 179.566,909.998C187.967,918.399 201.607,918.399 210.008,909.998L422.339,697.667C430.74,689.266 430.74,675.626 422.339,667.225Z" style="fill:rgb(150,150,150);"/>
              <path d="M93.426,1077.71C85.025,1069.31 71.385,1069.31 62.984,1077.71L-84.387,1225.08C-92.788,1233.48 -92.788,1247.12 -84.387,1255.53C-75.987,1263.93 -62.346,1263.93 -53.945,1255.53L93.426,1108.15C101.827,1099.75 101.827,1086.11 93.426,1077.71Z" style="fill:rgb(150,150,150);"/>
              <path d="M426.502,826.209C418.101,817.808 404.461,817.808 396.06,826.209L121.135,1101.13C112.734,1109.53 112.734,1123.17 121.135,1131.58C129.536,1139.98 143.176,1139.98 151.577,1131.58L426.502,856.651C434.903,848.25 434.903,834.61 426.502,826.209Z" style="fill:rgb(150,150,150);"/>
              <path d="M401.923,279.774C393.522,271.374 379.881,271.374 371.481,279.774L295.134,356.122C286.733,364.522 286.733,378.163 295.134,386.564C303.534,394.964 317.175,394.964 325.576,386.564L401.923,310.217C410.324,301.816 410.324,288.175 401.923,279.774Z" style="fill:rgb(150,150,150);"/>
              <path d="M430.655,822.056C439.056,830.457 452.696,830.457 461.097,822.056L538.764,744.389C547.165,735.988 547.165,722.347 538.764,713.947C530.363,705.546 516.723,705.546 508.322,713.947L430.655,791.614C422.254,800.014 422.254,813.655 430.655,822.056Z" style="fill:rgb(150,150,150);"/>
              <path d="M254.97,508.3C246.57,499.9 232.929,499.9 224.528,508.3L108.647,624.182C100.246,632.582 100.246,646.223 108.647,654.624C117.048,663.024 130.688,663.024 139.089,654.624L254.97,538.743C263.371,530.342 263.371,516.701 254.97,508.3Z" style="fill:rgb(150,150,150);"/>
              <path d="M517.131,327.713C508.731,319.312 495.09,319.312 486.689,327.713L373.99,440.412C365.589,448.813 365.589,462.454 373.99,470.854C382.39,479.255 396.031,479.255 404.432,470.854L517.131,358.155C525.532,349.754 525.532,336.113 517.131,327.713Z" style="fill:rgb(150,150,150);"/>
              <path d="M439.26,487.157C430.859,478.757 417.219,478.757 408.818,487.157L250.272,645.703C241.871,654.104 241.871,667.745 250.272,676.145C258.673,684.546 272.313,684.546 280.714,676.145L439.26,517.6C447.661,509.199 447.661,495.558 439.26,487.157Z" style="fill:rgb(150,150,150);"/>
              <path d="M225.145,782.846C233.545,791.247 247.186,791.247 255.587,782.846L338.465,699.967C346.866,691.567 346.866,677.926 338.465,669.525C330.065,661.125 316.424,661.125 308.023,669.525L225.145,752.404C216.744,760.805 216.744,774.445 225.145,782.846Z" style="fill:rgb(150,150,150);"/>
              <path d="M835.677,172.314C827.276,163.913 813.636,163.913 805.235,172.314L663.61,313.939C655.209,322.339 655.209,335.98 663.61,344.381C672.011,352.782 685.651,352.782 694.052,344.381L835.677,202.756C844.078,194.355 844.078,180.714 835.677,172.314Z" style="fill:rgb(150,150,150);"/>
              <path d="M672.53,253.887C680.931,262.288 694.572,262.288 702.973,253.887L844.598,112.262C852.998,103.861 852.998,90.22 844.598,81.82C836.197,73.419 822.556,73.419 814.156,81.82L672.53,223.445C664.13,231.846 664.13,245.486 672.53,253.887Z" style="fill:rgb(150,150,150);"/>
              <path d="M61.021,783.823C69.422,792.224 83.063,792.224 91.463,783.823L366.388,508.898C374.789,500.497 374.789,486.857 366.388,478.456C357.987,470.055 344.347,470.055 335.946,478.456L61.021,753.381C52.62,761.782 52.62,775.422 61.021,783.823Z" style="fill:rgb(150,150,150);"/>
              <path d="M93.426,1077.71C85.025,1069.31 71.385,1069.31 62.984,1077.71L-84.387,1225.08C-92.788,1233.48 -92.788,1247.12 -84.387,1255.53C-75.987,1263.93 -62.346,1263.93 -53.945,1255.53L93.426,1108.15C101.827,1099.75 101.827,1086.11 93.426,1077.71Z" style="fill:rgb(150,150,150);"/>
              <path d="M517.895,245.376C526.295,253.777 539.936,253.777 548.337,245.376L695.708,98.005C704.109,89.604 704.109,75.964 695.708,67.563C687.307,59.162 673.666,59.162 665.266,67.563L517.895,214.934C509.494,223.335 509.494,236.975 517.895,245.376Z" style="fill:rgb(150,150,150);"/>
              <path d="M426.502,826.209C418.101,817.808 404.461,817.808 396.06,826.209L121.135,1101.13C112.734,1109.53 112.734,1123.17 121.135,1131.58C129.536,1139.98 143.176,1139.98 151.577,1131.58L426.502,856.651C434.903,848.25 434.903,834.61 426.502,826.209Z" style="fill:rgb(150,150,150);"/>
            </g>
          </g>
        </g>

        <!-- Center Circle -->
        <g>
          <circle cx="385.062" cy="569.262" r="291.487" style="fill:white;"/>
          <circle cx="385.062" cy="569.262" r="276.002"/>
          <path d="M170.957,569.262C170.957,687.43 266.894,783.367 385.062,783.367L385.062,827.218C242.692,827.218 127.106,711.632 127.106,569.262L170.957,569.262Z" style="fill:rgb(0,118,255);"/>
          <path d="M127.106,569.262C127.106,426.893 242.692,311.307 385.062,311.307L385.062,355.158C266.894,355.158 170.957,451.095 170.957,569.262C170.957,581.363 161.133,591.188 149.032,591.188C136.931,591.188 127.106,581.363 127.106,569.262L127.106,569.262Z" style="fill:rgb(255,255,0);"/>
          <path d="M385.062,311.307C527.432,311.307 643.018,426.893 643.018,569.262L599.167,569.262C599.167,451.095 503.23,355.158 385.062,355.158L385.062,355.158C372.961,355.158 363.137,345.333 363.137,333.232C363.137,321.131 372.961,311.307 385.062,311.307Z" style="fill:rgb(0,203,0);"/>
          <path d="M599.167,569.121C599.243,557.085 609.038,547.337 621.092,547.337C633.193,547.337 643.018,557.161 643.018,569.262C643.018,711.632 527.432,827.218 385.062,827.218L385.062,783.367C503.23,783.367 599.167,687.43 599.167,569.262L599.167,569.121Z" style="fill:rgb(255,0,0);"/>
          <circle cx="385.062" cy="805.293" r="21.926" style="fill:rgb(0,118,255);"/>
        </g>

        <!-- Text elements -->
        <text id="number1" x="380px" y="678.936px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:305.178px;fill:white;text-anchor:middle;">1</text>
        <text id="number2" x="155px" y="191.076px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:91.888px;fill:white;text-anchor:middle;">1</text>
        <g transform="matrix(-1,-1.22465e-16,1.22465e-16,-1,5727.3,4468.72)">
          <text id="number2u" x="5115px" y="3528.19px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:91.888px;fill:white;text-anchor:middle;">1</text>
        </g>
        <text id="description1" x="233.22px" y="151px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
        <text id="description2" x="233.22px" y="191px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
        <text id="description3" x="233.22px" y="231px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
        <text id="description4" x="233.22px" y="271px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
        <g transform="matrix(-1,-1.22465e-16,1.22465e-16,-1,1257.93,2060.36)">
          <text id="description1u" x="725.865px" y="1070px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
          <text id="description2u" x="725.865px" y="1110px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
          <text id="description3u" x="725.865px" y="1150px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
          <text id="description4u" x="725.865px" y="1190px" style="font-family:'Arial-BoldMT', 'Arial', sans-serif;font-weight:700;font-size:39.881px;">Move forward 1.</text>
        </g>

        <!-- Transparent overlay for clicking -->
        <rect x="47.952" y="42.515" width="676.788" height="1052.81" style="fill:rgba(255,0,0,0);" onclick="draw();" style="touch-action:manipulation"/>

        <defs>
          <filter id="shadow" x="0" y="0">
            <feGaussianBlur in="SourceAlpha" stdDeviation="5" />
            <feOffset dx="2" dy="4" />
            <feMerge>
              <feMergeNode />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>
        </defs>
      </svg>

    <script type="text/javascript">

var cards = {
    1  : ["Move forward 1.",     "",                   "",                       ""],
    2  : ["Move forward 2.",     "",                   "",                       ""],
    3  : ["Move forward 3.",     "",                   "",                       ""],
    4  : ["Move backward 4.",    "",                   "",                       ""],
    5  : ["Move forward 5.",     "",                   "",                       ""],
    7  : ["Move forward 7 or",   "split between",      "two pawns.",             ""],
    8  : ["Move forward 8.",     "",                   "",                       ""],
    10 : ["Move forward 10 or",  "backward 1.",        "",                       ""],
    11 : ["Move forward 11 or",  "trade places with",  "another player.",        ""],
    12 : ["Move forward 12.",    "",                   "",                       ""],
    S  : ["Move from start and", "switch places with", "another player who you", "bump back to start."],
}

card_stack = []

function shuffle(array) {
    let counter = array.length;

    // While there are elements in the array
    while (counter > 0) {
        // Pick a random index
        let index = Math.floor(Math.random() * counter);

        // Decrease counter by 1
        counter--;

        // And swap the last element with it
        let temp = array[counter];
        array[counter] = array[index];
        array[index] = temp;
    }

    return array;
}

function draw(){
    // Shuffle Cards
    if (card_stack.length == 0) {
	for (i in cards){
	    for (let n=0; n<4; n++){
		card_stack.push(i);
	    }
	}
	card_stack = shuffle(card_stack);
    }
    //console.log(card_stack);


    animate_out();
}

function animate_out(){
    var card = document.getElementById("card");
    var current_x = card.style.left;
    current_x = Number(current_x.substring(0,current_x.length-2));

    if (current_x > 1000){
        update_card();
        return;
    }

    card.style.left = current_x + 50 + "px";
    requestAnimationFrame(function() {animate_out(name)});
}

function update_card(){
    var card = document.getElementById("card");
    card.style.left = "-760px";

    let this_card_number      = card_stack[0]
    let this_card_description = cards[card_stack[0]];
    card_stack = card_stack.slice(1);
    document.getElementById("number1").innerHTML  = this_card_number;
    document.getElementById("number2").innerHTML  = this_card_number;
    document.getElementById("number2u").innerHTML = this_card_number;

    document.getElementById("description1").innerHTML  = this_card_description[0];
    document.getElementById("description1u").innerHTML = this_card_description[0];
    document.getElementById("description2").innerHTML  = this_card_description[1];
    document.getElementById("description2u").innerHTML = this_card_description[1];
    document.getElementById("description3").innerHTML  = this_card_description[2];
    document.getElementById("description3u").innerHTML = this_card_description[2];
    document.getElementById("description4").innerHTML  = this_card_description[3];
    document.getElementById("description4u").innerHTML = this_card_description[3];

    animate_in();
}

function animate_in(){
    var card = document.getElementById("card");
    var current_x = card.style.left;
    current_x = Number(current_x.substring(0,current_x.length-2));

    if (current_x >= 0){
        return;
    }

    card.style.left = current_x + 20 + "px";
    requestAnimationFrame(function() {animate_in(name)});
}

    </script>
  </body>
</html>
